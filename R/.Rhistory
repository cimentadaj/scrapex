resp
resp
resp
hidden
library(rvest)
pre_pg <- read_html("https://mdocweb.state.mi.us/otis2/otis2.aspx")

setNames(
  html_nodes(pre_pg, "input[type='hidden']") %>% html_attr("value"),
  html_nodes(pre_pg, "input[type='hidden']") %>% html_attr("name")
) -> hidden
hidden
hidden
hidden
resp
form_filled
form_filled
form_filled
form
form_filled
hidden
form_filled
form_filled
resp
hidden
hidden
resp
form_filled
resp
resp
resp
resp
resp
resp
hidden
form_filled
form_filled
resp
resp
school_links
warnings()
all_Schools
all_schools
warnings()
all_schools
all_schools
resp
school_links
school_links
max_pages
max_pages
school_links
max_pages
max_pages
400*5
2000 / 60
sample_pages
.x <- 240
form_Filled
form_filled
resp
school_links
paths_allowed("https://www.buscocolegio.com/Colegio/buscar-colegio.action")
paths_allowed("https://www.buscocolegio.com/Colegio/buscar-colegio.action")
paths_allowed("https://www.buscocolegio.com/")
rtxt <- robotstxt(domain="https://www.buscocolegio.com")
rtxt
school_grabber("https://www.buscocolegio.com/Colegio/detalles-colegio.action?id=35014238")
school_url <- "https://www.buscocolegio.com/Colegio/detalles-colegio.action?id=35014238"
school_name
data_rect
school_email
school_tel
school_url
first_fields
.x <- "tel
""
"
.x <- "tel"
xpath_object
xpath
data_rect
all_fields
all_fields
location_str
location_str
school_url
school_grabber(school_url)
all_schools %>% as_tibble()
all_schools %>% as_tibble() %>% print(n = Inf)
all_schools %>% as_tibble() %>% print(n = Inf) %>% slice(11)
all_schools %>% slice(11)
all_schools %>% slice(11)
all_schools
all_schools %>% slice(33)
school_url <- "https://www.buscocolegio.com/Colegio/detalles-colegio.action?id=354059"
school_name
div_fields
div_fields
div_fields[[1]]
div_fields[[1]] %>% xml_find_all("//strong")
div_fields[[1]] %>% xml_find_all("/strong")
div_fields[[1]] %>% xml_find_all("strong")
div_fields[[1]] %>% xml_find_all("//strong")
div_fields[[2]] %>% xml_find_all("//strong")
div_fields[[3]] %>% xml_find_all("//strong")
div_fields
div_fields[[1]]
div_fields[[2]]
div_fields[[3]]
div_fields[[1]]
div_fields[[1]] %>% xml_find_all("//strong")
div_fields[[1]]
div_fields[[1]] %>% xml_find_first("//strong")
div_fields[[1]] %>% xml_find_first("/strong")
div_fields[[1]] %>% xml_find_all("//strong")
div_fields[[1]]
div_fields[[1]] %>% xml_structure()
div_fields[[1]]
div_fields[[1]] %>% xml_structure()
div_fields[[1]] %>% xml_find_all("//strong")
div_fields[[2]] %>% xml_find_all("//strong")
div_fields
div_fields %>% xml_children()
div_fields %>% xml_children() %>% xml_children()
div_fields %>% xml_children() %>% xml_children() %>% xml_children()
div_fields %>% xml_children()
div_fields
div_fields[[1]]
as_list(div_fields[[1]])
as_list(div_fields[[2]])
as_list(div_fields[[3]])
as_list(div_fields[[4]])
as_list(div_fields[[5]])
as_list(div_fields[[6]])
as_list(div_fields[[6]]) %>% flatten()
as_list(div_fields[[2]]) %>% flatten()
as_list(div_fields[[2]]) %>% flatten()
as_list(div_fields[[3]]) %>% flatten()
as_list(div_fields[[3]]) %>% flatten() %>% .[["strong"]]
as_list(div_fields[[3]]) %>% unlist()
as_list(div_fields[[4]]) %>% unlist()
div_fields
div_fields[[1]]
div_fields[[1]] %>% xml_find_all(".//strong")
div_fields
pages
all_schools
all_schools %>% slice(90)
all_schools %>% slice(91)
all_schools %>% slice(95)
school_url
all_fields
all_schools
all_schools %>% slice(100)
library(sf)
warnings()
regional_df
all_schools %>% as_tibble()
sp_sf
nrow(sp_sf)
sp_sf
1
all_schools
xml_test
xml_raw
child_xml
xml_raw
child_xml
xml_raw %>% xml_structure()
cat(xml_raw)
xml_raw
cat(xml_test)
xml_raw
xml_test %>% cat()
school_raw
location
school_links
res
res
tmp_links
res
res %>% transpose()
res %>% transpose() %>% .$results
res %>% transpose() %>% .[["results"]]
res %>% transpose() %>% .[["result"]]
res %>% transpose() %>% .[["result"]]
tst <- res %>% transpose() %>% .[["result"]]
map(tst, is.null)
which(map(tst, is.null))
which(map_lgl(tst, is.null))
final_links
final_links
nchar("https://www.buscocolegio.com/Colegio/detalles-colegio.action?id=")
school_links
res
warnings()
res
res
res
res
school_url
prep_browser(school_url)
openURL(prep_browser(school_url))
openURL
browseURL(prep_browser(school_url))
school_raw
27 * 5
135 / 60
xml_raw %>% xml_children()
xml_raw %>% xml_children()
xml_raw %>% xml_child(search = 1)
install.packages("blogdown")
spanish_schools_ex
zip_data
list.files(zip_data)
zip_data
pkg_dir
school_links
pak::pkg_remove("scrapex")
devtools::install_github("cimentadaj/scrapex")
school_links
school_raw
school_raw %>% xml_child()
school_raw %>% xml_child() %>% xml_child()
